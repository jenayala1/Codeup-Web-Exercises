function callCurrentConditions(){var ConditionsURL="/stateparks/restfeeds/";$(".conditionsResults").each(function(index){var thisDiv=$(this),parkLat=thisDiv.data("lat"),parkLng=thisDiv.data("lng"),ConditionsHTML="";$.getJSON(ConditionsURL,{type:"weather",lat:parkLat,lon:parkLng},function(data){var tempMax=(data.currentobservation.Temp,data.data.temperature[1]),tempMin=data.data.temperature[0],curCond=data.data.weather[0];tempMax<tempMin&&(tempMax=data.data.temperature[0],tempMin=data.data.temperature[1]),ConditionsHTML+='<div class="feeditem tempCur"><span>Current Conditions: </span>'+curCond+"</div>",ConditionsHTML+='<div class="feeditem tempMin"><span>Low Temp:</span> '+tempMin+"&deg; F</div>",ConditionsHTML+='<div class="feeditem tempMax"><span>High Temp:</span> '+tempMax+"&deg; F</div>",$(thisDiv).html(ConditionsHTML)})})}function callParkConditionsList(){var ConditionsURL="/stateparks/restfeeds/";$(".parkconditionsentry");$(".parkconditionsentry").each(function(index){var thisRow=$(this),parkData=thisRow.data("parkdata");parkData=parkData.split(",");var ConditionsHTML="";$.getJSON(ConditionsURL,{type:"weather",lat:parkData[3],lon:parkData[2]},function(data){var tempCur=data.currentobservation.Temp,tempMax=data.data.temperature[1],tempMin=data.data.temperature[0],curCond=data.data.weather[0];tempMax<tempMin&&(tempMax=data.data.temperature[0],tempMin=data.data.temperature[1]),ConditionsHTML+='<td class="title"><a href="'+parkData[0]+'">'+parkData[4]+"</a></td>",ConditionsHTML+="<td>"+tempCur+"&deg; F &nbsp;"+curCond+"</td>",ConditionsHTML+="<td>"+tempMax+"&deg; F</td>",ConditionsHTML+="<td>"+tempMin+"&deg; F</td>",ConditionsHTML+='<td class="more"><a href="'+parkData[0]+'/current-conditions">More conditions</a></td>',$(thisRow).html(ConditionsHTML)})})}function callParkAmenities(){var AmenitiesURL="/stateparks/restfeeds/";$(".amenitiesResults").each(function(index){var thisDiv=$(this),parkID=thisDiv.data("park"),AmenitiesHTML="";parkID=parkSlugToAbbid[parkID],$.getJSON(AmenitiesURL,{type:"amenities"},function(data){var amenitiesOut=[];$.each(data.features,function(index,result){parkID==result.attributes.ParkABBID&&$.inArray(result.attributes.ParkRecPnt,amenitiesOut)===-1&&amenitiesOut.push(result.attributes.ParkRecPnt)}),$.each(amenitiesOut,function(i,amenities){var amenitiesClass=amenities.replace(/\s+/g,"");AmenitiesHTML+='<li class="'+amenitiesClass+'"><a href="../map/">'+amenities+"</a></li>"}),$(thisDiv).html("<ul>"+AmenitiesHTML+"</ul>")})})}function callParkLandmarks(){var LandmarksURL="/stateparks/restfeeds/";$(".landmarksResults").each(function(index){var thisDiv=$(this),parkID=thisDiv.data("park"),landmarksHTML="";parkID=parkSlugToAbbid[parkID],$.getJSON(LandmarksURL,{type:"landmarks"},function(data){var landmarksOut={};$.each(data.features,function(index,result){parkID==result.attributes.parkabbid&&$.inArray(result.attributes.name,landmarksOut)===-1&&(landmarksOut[result.attributes.name]=result.attributes.Landmark_Type)}),$.each(landmarksOut,function(landmark,type){var landmarksClass=type.replace(/\s+/g,"");landmarksHTML+='<li class="'+landmarksClass+'"><a href="../map/">'+landmark+"</a></li>"}),$(thisDiv).html("<ul>"+landmarksHTML+"</ul>")})})}function homefeaturedbgmadness(){function imgRotate(){imgRotateCount<[imgCount-1]?($("ul.featuredbox li").removeClass("active"),featureImgBoxes[imgRotateCount].addClass("active"),thisSection.css("background-image","url("+featureImgs[imgRotateCount]+")"),imgRotateCount+=1):imgRotateCount>=[imgCount-1]&&($("ul.featuredbox li").removeClass("active"),featureImgBoxes[imgRotateCount].addClass("active"),thisSection.css("background-image","url("+featureImgs[imgRotateCount]+")"),imgRotateCount=0),$("#parkimagefade").removeClass("fade"),clearTimeout(imgTimeout),imgTimeout=setTimeout(imgRotate,imgTimer),clearTimeout(fadeTimeout),fadeTimeout=setTimeout(imgFade,fadeTimer)}function imgFade(){$("#parkimagefade").addClass("fade")}var imgTimeout,fadeTimeout,thisSection=$("section.featuredparkimages"),imgCount=($("ul.featuredbox"),3),featureImgBoxes=[$("ul.featuredbox li:nth-child(1)"),$("ul.featuredbox li:nth-child(2)"),$("ul.featuredbox li:nth-child(3)")],featureImgs=[featureImgBoxes[0].data("thumburl"),featureImgBoxes[1].data("thumburl"),featureImgBoxes[2].data("thumburl")],imgTimer="7000",fadeTimer="6500",imgRotateCount=0;preload(featureImgs),imgRotate()}function executeBackgroundAmazingness(){function getCredits(imgSlug){var creditsURL="/stateparks/wp-content/themes/stateparks/images/parks/"+imgSlug+"/credits.json";$.ajax({url:creditsURL,dataType:"json",async:!1,success:function(data){$.each(data.photocredits,function(index,name){imgCreditsArr.push(name)})}})}function imgRotate(){imgRotateCount<[imgCount-1]?(thisSection.css("background-image","url("+imgArr[imgRotateCount]+")"),1==imgCredits&&outputCredits(imgCreditsArr[imgRotateCount]),imgRotateCount+=1):imgRotateCount>=[imgCount-1]&&(thisSection.css("background-image","url("+imgArr[imgRotateCount]+")"),1==imgCredits&&outputCredits(imgCreditsArr[imgRotateCount]),imgRotateCount=0),$("#parkimagefade").removeClass("fade"),clearTimeout(imgTimeout),imgTimeout=setTimeout(imgRotate,imgTimer),clearTimeout(fadeTimeout),fadeTimeout=setTimeout(imgFade,fadeTimer)}function imgFade(){$("#parkimagefade").addClass("fade")}function outputCredits(credit){""!=credit?$("div.photocredit").html("Photo courtesy of: <span>"+imgCreditsArr[imgRotateCount]+"</span>").addClass("active"):$("div.photocredit").html("").removeClass("active")}var thisSection,imgCount,imgSlug,imgCredits,imgTimeout,fadeTimeout,imgArr=[],imgCreditsArr=[],imgTimer="8000",fadeTimer="7500",imgRotateCount=0;$("section.parkimages").each(function(index){if(thisSection=$(this),imgCount=thisSection.data("imgcount"),imgSlug=thisSection.data("pageslug"),imgCredits=thisSection.data("imgcredits"),1==imgCredits&&getCredits(imgSlug),imgCount>0){for(var i=0;i<imgCount;i++){var imgpath="feature-0"+[i+1]+".jpg";imgpath="/stateparks/wp-content/themes/stateparks/images/parks/"+imgSlug+"/"+imgpath,imgArr.push(imgpath)}preload(imgArr),imgCount>1?imgRotate():thisSection.css("background-image","url("+imgArr[0]+")")}else thisSection.css("background-image","url(/stateparks/wp-content/themes/stateparks/images/parks/none.jpg)")})}function preload(images){$(images).each(function(){$("<img/>")[0].src=this})}function reservelinkupdater(parkslug){var reserveLinkAnchor=$(".reservebox a"),parkSlugToReserveLink={"antelope-island":"antelope-island-state-park/r/campgroundDetails.do?contractCode=UT&parkId=343031","bear-lake":"bear-lake-state-park/r/campgroundDetails.do?contractCode=UT&parkId=343061","camp-floyd":"camp-floyd-stagecoach-inn-group/r/campgroundDetails.do?contractCode=UT&parkId=343121","coral-pink":"coral-pink-sand-dunes-state-park/r/campgroundDetails.do?contractCode=UT&parkId=345131","dead-horse":"dead-horse-point-state-park/r/campgroundDetails.do?contractCode=UT&parkId=344161","deer-creek":"deer-creek-state-park/r/campgroundDetails.do?contractCode=UT&parkId=342171","east-canyon":"east-canyon-state-park/r/campgroundDetails.do?contractCode=UT&parkId=342191","escalante-petrified-forest":"escalante-petrified-forest-state-park/r/campgroundDetails.do?contractCode=UT&parkId=345221","fremont-indian":"fremont-indian-state-park/r/campgroundDetails.do?contractCode=UT&parkId=345271","goblin-valley":"goblin-valley-state-park/r/campgroundDetails.do?contractCode=UT&parkId=344291","green-river":"green-river-state-park/r/campgroundDetails.do?contractCode=UT&parkId=344341",huntington:"huntington-state-park/r/campgroundDetails.do?contractCode=UT&parkId=344391",hyrum:"hyrum-lake-state-park/r/campgroundDetails.do?contractCode=UT&parkId=343401",jordanelle:"jordanelle-state-park/r/campgroundDetails.do?contractCode=UT&parkId=342471","kodachrome-basin":"kodachrome-basin-state-park/r/campgroundDetails.do?contractCode=UT&parkId=345501",millsite:"millsite-state-park/r/campgroundDetails.do?contractCode=UT&parkId=344551","otter-creek":"otter-creek-state-park/r/campgroundDetails.do?contractCode=UT&parkId=345611",palisade:"palisade-state-park/r/campgroundDetails.do?contractCode=UT&parkId=344641","quail-creek":"quail-creek-state-park/r/campgroundDetails.do?contractCode=UT&parkId=345711","red-fleet":"red-fleet-state-park/r/campgroundDetails.do?contractCode=UT&parkId=342741",rockport:"rockport-state-park/r/campgroundDetails.do?contractCode=UT&parkId=342751","sand-hollow":"sand-hollow-state-park/r/campgroundDetails.do?contractCode=UT&parkId=345761",scofield:"scofield-state-park/r/campgroundDetails.do?contractCode=UT&parkId=344771","snow-canyon":"snow-canyon-state-park/r/campgroundDetails.do?contractCode=UT&parkId=345781",starvation:"starvation-state-park/r/campgroundDetails.do?contractCode=UT&parkId=342801",steinaker:"steinaker-state-park/r/campgroundDetails.do?contractCode=UT&parkId=342811","utah-lake":"utah-lake-state-park/r/campgroundDetails.do?contractCode=UT&parkId=343871","wasatch-mountain":"wasatch-mountain-state-park/r/campgroundDetails.do?contractCode=UT&parkId=342921","willard-bay":"willard-bay-state-park/r/campgroundDetails.do?contractCode=UT&parkId=343941",yuba:"yuba-lake-state-park/r/campgroundDetails.do?contractCode=UT&parkId=343961"},reserveURL=parkSlugToReserveLink[parkslug];void 0!=reserveURL&&(reserveURL="http://utahstateparks.reserveamerica.com/camping/"+reserveURL,reserveLinkAnchor.attr("href",reserveURL))}var parkSlugToAbbid={anasazi:"ANSP","antelope-island":"AISP","bear-lake":"BRSP","camp-floyd":"SISP","coral-pink":"CPSP","dead-horse":"DHSP","deer-creek":"DCSP","east-canyon":"ECSP","edge-of-the-cedars":"EDSP","escalante-petrified-forest":"ESSP","flight-park":"FPRA","fremont-indian":"FISP","frontier-homestead":"IMSP","goblin-valley":"GVSP",goosenecks:"GKSP","great-salt-lake":"GSSP","green-river":"GRSP",gunlock:"GNSP","historic-union-pacific-rail-trail":"RTSP",huntington:"HNSP",hyrum:"HLSP","jordan-river":"JRSP",jordanelle:"JDSP","kodachrome-basin":"KDSP",millsite:"MSSP","otter-creek":"OCSP",palisade:"PSSP",piute:"PUSP","quail-creek":"QCSP","red-fleet":"RFSP",rockport:"RPSP","sand-hollow":"SASP",scofield:"SFSP","snow-canyon":"SNSP",starvation:"SVSP",steinaker:"STSP","territorial-statehouse":"TESP","heritage-park":"PTSP","utah-field-house":"UFSP","utah-lake":"UTSP","wasatch-mountain":"WMSP","willard-bay":"WBSP",yuba:"YLSP"};$(function(){$("div").hasClass("conditionsResults")&&callCurrentConditions(),$("div").hasClass("amenitiesResults")&&callParkAmenities(),$("div").hasClass("landmarksResults")&&callParkLandmarks(),$("section").hasClass("parkimages")&&executeBackgroundAmazingness(),$("section").hasClass("featuredparkimages")&&homefeaturedbgmadness(),$("tr").hasClass("parkconditionsentry")&&callParkConditionsList();var menubox=$(".menubox"),reservebox=$(".reservebox"),menubtn=$(".mobilemenu");$("section#secondary aside");article=$("section#secondary > article"),menubtn.click(function(event){$(this).toggleClass("active"),menubox.slideToggle(),reservebox.slideToggle(),event.preventDefault()});var searchbtn=$("a#searchbtn"),searchinput=$("input#s");searchbtn.click(function(event){searchinput.focus(),event.preventDefault()})});
//# sourceMappingURL=functions.min.js.map
