<!DOCTYPE html>
<html>
    <head>
        <title>Online Store</title>
        <link href="css/bootstrap.css" rel="stylesheet">
    </head>
    <body>
        <style>
            .button {
                border-style: inset;
                background-color: blue;
                color: white;
            }

            table {
                border-style: solid;
                padding-right: 10px;
            }


        </style>
        <h1>My Tool Store</h1>

        <table id="products">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Categories</th>
                </tr>
              
            </thead>
            <tbody id="insertProducts"></tbody>
        </table>
        <br>
        <button id="reload">RELOAD</button>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script>
        (function() {
            "use strict";

          

            
    
        });



        })();
        </script>

    </body>
</html>
 <!-- ============Exercises============================ 

// Ajax Store

// ==== 1. Download and save ajax-store.html.
// ==== 2. Create a data directory and download inventory.json to that folder.

// ==== 3. Your online tool store should load data from the JSON file using a get request and append the data to the table. You will need to use either $.ajax() or $.get(), and a .done() callback.

//      Step #1 - break down the instructions before starting the code:

        // A. Read from /data/inventory.json & put the contents on the page with html
        // B. Make an ajax get request to /data/inventory.json - to do this, are we downloading or uploading information?
                //downloading = .get request -!>

            var url = "/data/inventory.json";

        // C. AJAX best practices/pseudo playbook
            //C1. - if making an ajax request, setup both .done & .fail methods
                    // -  inside.done

            //C2. Start with the basic method template
            //  - 1st draft of .fail method is to console.log ('fail')
            //  - 1st draft of.done method is console.log('done method fired')
                

                var request = $.get(url);    
                request.done(function(){  
                    console.log("done");    
                });

                request.fail(function(){   
                    console.log("error");  
                });


            //C3. 
            //  - 2nd draft of .fail method is to console.log the results
            //  - 2nd draft of .done method is to console.log the results- the contents fo the json file

                     var request = $.get(url);    
                        request.done(function(data, status, request){    
                        console.log("done");    
                    });

                    request.fail(function(request, status, error){    
                        console.log("error");   
                    });

        

            //C4. - Add the contents to the html page
            //  -  Contents of the inventory.json will be JSON format
            //  -  Name those contents in a variable called contents
            //  -  Determine "shape" of those contents
                // By "shape" answer the following:
                    // - is the result from the contents of a string
                    // - is the "shape" an object {}
                    // - is the "shape" an array []
                // If content is an array, probably will need to iterate across that array
                // If content is an object, need to explore that object & the shape of the properties
            //  -Identify what data needs to go where into what HTML structure
                // break the problem down into smaller pieces, ie. - with the AJAX store, outlining the table contents 
                //write out what the data elements are, ie: inventory items are objects
          
            
                        //ie: 
                            // var array = ['bob', 'jane', 'tarzan'];
                            // var index = 0;
                            // console.log ('first element is' + array[index]);
                            // index++;
                            // console.log ('second element is' + array[index]);
                            // index++;
                            // console.log ('third element is' + array[index]);
                            // index++;
                            // console.log ('fourth element is' + array[index]);
                            //if you get undefined, then you have reached the end of the array
                
                C4 Steps: (using strings - example was using external API from the star wars site)
                    var request = $.get(url);    
                        request.done(function(data, status, request){    
                        console.log("done");    

                    
                        var htmlString = "<tr>";
                        htmlString+= "<td>" + data.name + "</td>";
                        htmlString += "<td>" + data.quantity + "</td>";
                        htmlString += "<td>" + data.price + "</td>";
                        htmlString += "<td>" + data.category + "</td>";

                        htmlString += "</tr>";

                        $('#insertProducts').html(htmlString)
                        });

                        request.fail(function(request, status, error){    
                            console.log("error");   
                    });


                C5 Steps: 
                //If the shape of data is an arrary, ignore loops & make a solution for only the first element on that array
                    //ie: 
                    //Wishful thinking: ignore as much of the problem as you can focus on the smallest steps where less goes wrong
                // Once a working solution is complete for the 1st element of an array, can manually iterate to ensure the planned approach is clear/correct - no can add functions
                
                     var request = $.get(url);    
                        request.done(function(data, status, request){    
                        console.log("done");    

                    
                        var htmlString = "<tr>";
                        htmlString+= "<td>" + data.name + "</td>";
                        htmlString += "<td>" + data.quantity + "</td>";
                        htmlString += "<td>" + data.price + "</td>";
                        htmlString += "<td>" + data.category + "</td>";

                        htmlString += "</tr>";

                        $('#insertProducts').append(htmlString). //adding all the data from the JSON file with append
                        });

                        request.fail(function(request, status, error){    
                            console.log("error");   
                    });
                }
                $("#insertProducts").click(function(){
    
                })

                C6 STEPS console log to ensure all data is defined

                    var request = $.get(url);    
                    request.done(function(data, status, request){    
                     
                        var tool = data[0];
                        console.log(tool);
                        console.log('tools is' + tool.title);   
                        console.log('price is' + tool.price); 
                        console.log('quantity is' + tool.quantity); 
                        console.log('category is' + tool.categories);
                   

                        request.fail(function(request, status, error){    
                            console.log("error");   
                    });
                }
                $("#insertProducts").click(function(){
    
                })

                C7 - Make a loop around the array & ADD CONTENT TO HTML PAGE
                   
                    var url = "data/inventory.json";
                    var request = $.get(url);    
                    request.done(function(data, status, request){    
                     
                    var htmlString = "";    //-set to empty string
                    
                    data.forEach(function(tool){
                            htmlString = "<tr>";
                            htmlString+= "<td>" + tool.name + "</td>";
                            htmlString += "<td>" + tool.quantity + "</td>";
                            htmlString += "<td>" + tool.price + "</td>";
                            htmlString += "<td>" + tool.category + "</td>";
                            htmlString += "</tr>";
    
                       }) 

                    $("#insertProducts").html(htmlString);
                    });

                        request.fail(function(request, status, error){    
                            console.log(status);
                            console.log("error");   
                    });

                $("#insertProducts").click(function(){
                });




// ==== 4. Add some new entries to inventory.json and see how the data on the page gets updated.
    //  == manually add to JSON file, HTML does not have the abiity to add content directly into the JSON file



// ==== 5. Add a "Refresh" button that will load inventory.json for you without having to refresh the entire page.


// ==== 6. Add Twitter Bootstrap to your online store with some custom CSS to make the style your own. 
// ============================================================================================================= -->


<!--//======== TODO #1 : Create an ajax GET request for /data/inventory.json ===========

    //======== TODO#2: Take the data from inventory.json and append it to the products table
    //======== (HINT: Your data should come back as a JSON object; use console.log() to inspect its contents and fields)===========//             

    //========  HINT: You will want to target #insertProducts for your new HTML elements

 -->